{"uid":"4044c1b7d81d1bac","name":"test_002_oa[case0]","fullName":"test_case.jnt_inter_case.jnt_app.test_debug.TestDebug#test_002_oa","historyId":"3565f427b42a4fd39ac43dbf3010bc3e","time":{"start":1709711213543,"stop":1709711225383,"duration":11840},"status":"broken","statusMessage":"AttributeError: 'dict' object has no attribute 'item'","statusTrace":"self = <pytest_demo.test_case.jnt_inter_case.jnt_app.test_debug.TestDebug object at 0x00000251FF218580>\ncase = {'Comment': '原数据提交，还是系统异常', 'ID': 'fukuan_11_c1', 'advice': '', 'case_description': '提交付款流程', ...}\n\n    @allure.step('调试_OA')\n    @pytest.mark.debug\n    # @pytest.mark.parametrize()第一个参数为逗号分隔的字符串列表，第二个参数是值列表parametrize()\n    @pytest.mark.parametrize('case', excel.get_excel_data(\"debug\", \"OA\"))\n    def test_002_oa(self, case):\n        self.d_time.write_time_to_json()\n>       self.new.test_case_method(case)\n\ntest_case\\jnt_inter_case\\jnt_app\\test_debug.py:39: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\ncommon\\data_deal.py:285: in test_case_method\n    request_method, expect, api_url, headers, params, global_var, upload_files = self.param_get_deal(case)\ncommon\\data_deal.py:66: in param_get_deal\n    params = self.brackets_dict_data(envir, params)  # params格式有问题\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <common.deal_json.DealJson object at 0x00000251FD03AF40>\nenvir = 'jnt_app_dev'\ndata = {'bankAccountNumberUser': '61052565854862551525', 'bankAccountUser': '成都银行', 'costCompanyName': '信能通达', 'costProjectName': '信能通达', ...}\nargs = (), kwargs = {}, key = 'user'\nvalue = {'bankAccount': '成都银行', 'bankAccountNumber': '61052565854862551525', 'deptId': 203, 'deptName': '数字智能研发部', ...}\n\n    def brackets_dict_data(self, envir, data, *args, **kwargs):\n        '''\n        处理通过dict来输入的多个数据，包括嵌套的字典和列表。\n        :param envir: 环境变量或其他上下文信息\n        :param data: 待处理的字典数据\n        :return: 处理后的字典数据\n        '''\n        for key, value in data.items():\n            if isinstance(value, dict):\n                # 处理字典\n>               for k, v in value.item():\nE               AttributeError: 'dict' object has no attribute 'item'\n\ncommon\\data_deal.py:108: AttributeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"init_connect","time":{"start":1709711213542,"stop":1709711213542,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"hasContent":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0}],"testStage":{"status":"broken","statusMessage":"AttributeError: 'dict' object has no attribute 'item'","statusTrace":"self = <pytest_demo.test_case.jnt_inter_case.jnt_app.test_debug.TestDebug object at 0x00000251FF218580>\ncase = {'Comment': '原数据提交，还是系统异常', 'ID': 'fukuan_11_c1', 'advice': '', 'case_description': '提交付款流程', ...}\n\n    @allure.step('调试_OA')\n    @pytest.mark.debug\n    # @pytest.mark.parametrize()第一个参数为逗号分隔的字符串列表，第二个参数是值列表parametrize()\n    @pytest.mark.parametrize('case', excel.get_excel_data(\"debug\", \"OA\"))\n    def test_002_oa(self, case):\n        self.d_time.write_time_to_json()\n>       self.new.test_case_method(case)\n\ntest_case\\jnt_inter_case\\jnt_app\\test_debug.py:39: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\ncommon\\data_deal.py:285: in test_case_method\n    request_method, expect, api_url, headers, params, global_var, upload_files = self.param_get_deal(case)\ncommon\\data_deal.py:66: in param_get_deal\n    params = self.brackets_dict_data(envir, params)  # params格式有问题\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <common.deal_json.DealJson object at 0x00000251FD03AF40>\nenvir = 'jnt_app_dev'\ndata = {'bankAccountNumberUser': '61052565854862551525', 'bankAccountUser': '成都银行', 'costCompanyName': '信能通达', 'costProjectName': '信能通达', ...}\nargs = (), kwargs = {}, key = 'user'\nvalue = {'bankAccount': '成都银行', 'bankAccountNumber': '61052565854862551525', 'deptId': 203, 'deptName': '数字智能研发部', ...}\n\n    def brackets_dict_data(self, envir, data, *args, **kwargs):\n        '''\n        处理通过dict来输入的多个数据，包括嵌套的字典和列表。\n        :param envir: 环境变量或其他上下文信息\n        :param data: 待处理的字典数据\n        :return: 处理后的字典数据\n        '''\n        for key, value in data.items():\n            if isinstance(value, dict):\n                # 处理字典\n>               for k, v in value.item():\nE               AttributeError: 'dict' object has no attribute 'item'\n\ncommon\\data_deal.py:108: AttributeError","steps":[{"name":"调试_OA","time":{"start":1709711213543,"stop":1709711225379,"duration":11836},"status":"broken","statusMessage":"AttributeError: 'dict' object has no attribute 'item'\n","statusTrace":"  File \"D:\\Program Files\\Python\\Python39\\lib\\site-packages\\allure_commons\\_allure.py\", line 192, in impl\n    return func(*a, **kw)\n  File \"D:\\Scripts\\python_code\\pytest_demo\\test_case\\jnt_inter_case\\jnt_app\\test_debug.py\", line 39, in test_002_oa\n    self.new.test_case_method(case)\n  File \"D:\\Scripts\\python_code\\pytest_demo\\common\\data_deal.py\", line 285, in test_case_method\n    request_method, expect, api_url, headers, params, global_var, upload_files = self.param_get_deal(case)\n  File \"D:\\Scripts\\python_code\\pytest_demo\\common\\data_deal.py\", line 66, in param_get_deal\n    params = self.brackets_dict_data(envir, params)  # params格式有问题\n  File \"D:\\Scripts\\python_code\\pytest_demo\\common\\data_deal.py\", line 108, in brackets_dict_data\n    for k, v in value.item():\n","steps":[],"attachments":[],"parameters":[{"name":"case","value":"{'ID': 'fukuan_11_c1', 'case_description': '提交付款流程', 'module': 'OA', 'envir': 'jnt_app_dev', 'pre_case': '', 'request_mode': 'post', 'case_url': '/oa/admin-api/bpm/process-instance/create', 'case_header': '{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer j::oa_token\"}', 'case_global_var': '/data:fukuan_flow_id', 'upload_files': '', 'case_preset': '', 'case_params': '{\\n \"instanceName\": \"zy付款流程-自动化-j::cur_date\",\\n \"userId\": \"j::oaUserId\",\\n \"deptId\": \"j::deptId\",\\n \"costCompanyName\": \"j::company_name\",\\n \"reimburseDate\": \"j::reimburse_Date\",\\n \"totalPrice\": 1,\\n \"costProjectName\": \"j::project_name\",\\n \"payWay\": \"j::pay_way\",\\n \"processDefinitionId\": \"j::cw_fukuan_pid\",\\n \"user\": {\\n  \"label\": \"刘一淋\",\\n  \"value\": 206,\\n  \"deptId\": 203,\\n  \"deptName\": \"数字智能研发部\",\\n  \"postIds\": [140],\\n  \"postName\": \"测试\",\\n  \"identityCard\": \"522228199709130050\",\\n  \"bankAccount\": \"成都银行\",\\n  \"bankAccountNumber\": \"61052565854862551525\",\\n  \"mobile\": \"13310711961\",\\n  \"sex\": \"女\"\\n },\\n \"file\": [{\\n  \"id\": \"f45fc217aaa4\",\\n  \"configId\": \"j::configId\",\\n  \"name\": \"suidao1.jpeg\",\\n  \"path\": \"j::upload_path\",\\n  \"url\": \"j::upload_url\",\\n  \"type\": \"j::upload_type\",\\n  \"size\": 1154438,\\n  \"userPublic\": null,\\n  \"deptPublic\": null,\\n  \"typeName\": null,\\n  \"deptId\": \"j::deptId\",\\n  \"typeEn\": null,\\n  \"projectPublic\": null,\\n  \"projectId\": null,\\n  \"source\": \"procedure\",\\n  \"wind\": \"j::upload_wind\",\\n  \"windId\": \"j::upload_windId\",\\n  \"customerName\": null,\\n  \"viewUrl\": null,\\n  \"value\": \"j::upload_url\",\\n  \"state\": \"uploaded\"\\n }],\\n \"bankAccountNumberUser\": \"61052565854862551525\",\\n \"bankAccountUser\": \"成都银行\",\\n \"table\": [{\\n  \"level\": \"1\",\\n  \"money\": 1,\\n  \"abstract\": \"这是摘要\"\\n }]\\n\\n}', 'case_expect': '操作成功', 'Comment': '原数据提交，还是系统异常', 'advice': ''}"}],"attachmentStep":false,"hasContent":true,"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0}],"attachments":[],"parameters":[],"attachmentStep":false,"hasContent":true,"stepsCount":1,"shouldDisplayMessage":true,"attachmentsCount":0},"afterStages":[{"name":"init_connect::0","time":{"start":1709711226212,"stop":1709711259114,"duration":32902},"status":"broken","statusMessage":"KeyboardInterrupt\n","statusTrace":"  File \"D:\\Program Files\\Python\\Python39\\lib\\site-packages\\allure_commons\\_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"D:\\Program Files\\Python\\Python39\\lib\\site-packages\\_pytest\\fixtures.py\", line 913, in _teardown_yield_fixture\n    pass\n  File \"_pydevd_bundle\\pydevd_cython_win32_39_64.pyx\", line 1187, in _pydevd_bundle.pydevd_cython_win32_39_64.SafeCallWrapper.__call__\n  File \"_pydevd_bundle\\pydevd_cython_win32_39_64.pyx\", line 627, in _pydevd_bundle.pydevd_cython_win32_39_64.PyDBFrame.trace_dispatch\n  File \"_pydevd_bundle\\pydevd_cython_win32_39_64.pyx\", line 1103, in _pydevd_bundle.pydevd_cython_win32_39_64.PyDBFrame.trace_dispatch\n  File \"_pydevd_bundle\\pydevd_cython_win32_39_64.pyx\", line 1096, in _pydevd_bundle.pydevd_cython_win32_39_64.PyDBFrame.trace_dispatch\n  File \"_pydevd_bundle\\pydevd_cython_win32_39_64.pyx\", line 585, in _pydevd_bundle.pydevd_cython_win32_39_64.PyDBFrame.do_wait_suspend\n  File \"D:\\Program Files\\JetBrains\\PyCharm_Community\\plugins\\python-ce\\helpers\\pydev\\pydevd.py\", line 1184, in do_wait_suspend\n    self._do_wait_suspend(thread, frame, event, arg, suspend_type, from_this_thread)\n  File \"D:\\Program Files\\JetBrains\\PyCharm_Community\\plugins\\python-ce\\helpers\\pydev\\pydevd.py\", line 1199, in _do_wait_suspend\n    time.sleep(0.01)\n","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"hasContent":true,"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0}],"labels":[{"name":"feature","value":"调试demo"},{"name":"tag","value":"debug"},{"name":"parentSuite","value":"test_case.jnt_inter_case.jnt_app"},{"name":"suite","value":"test_debug"},{"name":"subSuite","value":"TestDebug"},{"name":"host","value":"WIN-DVMNCVL70K8"},{"name":"thread","value":"24292-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test_case.jnt_inter_case.jnt_app.test_debug"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"case","value":"{'ID': 'fukuan_11_c1', 'case_description': '提交付款流程', 'module': 'OA', 'envir': 'jnt_app_dev', 'pre_case': '', 'request_mode': 'post', 'case_url': '/oa/admin-api/bpm/process-instance/create', 'case_header': '{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer j::oa_token\"}', 'case_global_var': '/data:fukuan_flow_id', 'upload_files': '', 'case_preset': '', 'case_params': '{\\n \"instanceName\": \"zy付款流程-自动化-j::cur_date\",\\n \"userId\": \"j::oaUserId\",\\n \"deptId\": \"j::deptId\",\\n \"costCompanyName\": \"j::company_name\",\\n \"reimburseDate\": \"j::reimburse_Date\",\\n \"totalPrice\": 1,\\n \"costProjectName\": \"j::project_name\",\\n \"payWay\": \"j::pay_way\",\\n \"processDefinitionId\": \"j::cw_fukuan_pid\",\\n \"user\": {\\n  \"label\": \"刘一淋\",\\n  \"value\": 206,\\n  \"deptId\": 203,\\n  \"deptName\": \"数字智能研发部\",\\n  \"postIds\": [140],\\n  \"postName\": \"测试\",\\n  \"identityCard\": \"522228199709130050\",\\n  \"bankAccount\": \"成都银行\",\\n  \"bankAccountNumber\": \"61052565854862551525\",\\n  \"mobile\": \"13310711961\",\\n  \"sex\": \"女\"\\n },\\n \"file\": [{\\n  \"id\": \"f45fc217aaa4\",\\n  \"configId\": \"j::configId\",\\n  \"name\": \"suidao1.jpeg\",\\n  \"path\": \"j::upload_path\",\\n  \"url\": \"j::upload_url\",\\n  \"type\": \"j::upload_type\",\\n  \"size\": 1154438,\\n  \"userPublic\": null,\\n  \"deptPublic\": null,\\n  \"typeName\": null,\\n  \"deptId\": \"j::deptId\",\\n  \"typeEn\": null,\\n  \"projectPublic\": null,\\n  \"projectId\": null,\\n  \"source\": \"procedure\",\\n  \"wind\": \"j::upload_wind\",\\n  \"windId\": \"j::upload_windId\",\\n  \"customerName\": null,\\n  \"viewUrl\": null,\\n  \"value\": \"j::upload_url\",\\n  \"state\": \"uploaded\"\\n }],\\n \"bankAccountNumberUser\": \"61052565854862551525\",\\n \"bankAccountUser\": \"成都银行\",\\n \"table\": [{\\n  \"level\": \"1\",\\n  \"money\": 1,\\n  \"abstract\": \"这是摘要\"\\n }]\\n\\n}', 'case_expect': '操作成功', 'Comment': '原数据提交，还是系统异常', 'advice': ''}"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["debug"]},"source":"4044c1b7d81d1bac.json","parameterValues":["{'ID': 'fukuan_11_c1', 'case_description': '提交付款流程', 'module': 'OA', 'envir': 'jnt_app_dev', 'pre_case': '', 'request_mode': 'post', 'case_url': '/oa/admin-api/bpm/process-instance/create', 'case_header': '{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer j::oa_token\"}', 'case_global_var': '/data:fukuan_flow_id', 'upload_files': '', 'case_preset': '', 'case_params': '{\\n \"instanceName\": \"zy付款流程-自动化-j::cur_date\",\\n \"userId\": \"j::oaUserId\",\\n \"deptId\": \"j::deptId\",\\n \"costCompanyName\": \"j::company_name\",\\n \"reimburseDate\": \"j::reimburse_Date\",\\n \"totalPrice\": 1,\\n \"costProjectName\": \"j::project_name\",\\n \"payWay\": \"j::pay_way\",\\n \"processDefinitionId\": \"j::cw_fukuan_pid\",\\n \"user\": {\\n  \"label\": \"刘一淋\",\\n  \"value\": 206,\\n  \"deptId\": 203,\\n  \"deptName\": \"数字智能研发部\",\\n  \"postIds\": [140],\\n  \"postName\": \"测试\",\\n  \"identityCard\": \"522228199709130050\",\\n  \"bankAccount\": \"成都银行\",\\n  \"bankAccountNumber\": \"61052565854862551525\",\\n  \"mobile\": \"13310711961\",\\n  \"sex\": \"女\"\\n },\\n \"file\": [{\\n  \"id\": \"f45fc217aaa4\",\\n  \"configId\": \"j::configId\",\\n  \"name\": \"suidao1.jpeg\",\\n  \"path\": \"j::upload_path\",\\n  \"url\": \"j::upload_url\",\\n  \"type\": \"j::upload_type\",\\n  \"size\": 1154438,\\n  \"userPublic\": null,\\n  \"deptPublic\": null,\\n  \"typeName\": null,\\n  \"deptId\": \"j::deptId\",\\n  \"typeEn\": null,\\n  \"projectPublic\": null,\\n  \"projectId\": null,\\n  \"source\": \"procedure\",\\n  \"wind\": \"j::upload_wind\",\\n  \"windId\": \"j::upload_windId\",\\n  \"customerName\": null,\\n  \"viewUrl\": null,\\n  \"value\": \"j::upload_url\",\\n  \"state\": \"uploaded\"\\n }],\\n \"bankAccountNumberUser\": \"61052565854862551525\",\\n \"bankAccountUser\": \"成都银行\",\\n \"table\": [{\\n  \"level\": \"1\",\\n  \"money\": 1,\\n  \"abstract\": \"这是摘要\"\\n }]\\n\\n}', 'case_expect': '操作成功', 'Comment': '原数据提交，还是系统异常', 'advice': ''}"]}