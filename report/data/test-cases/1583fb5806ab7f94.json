{"uid":"1583fb5806ab7f94","name":"test_002_oa[case1]","fullName":"test_case.jnt_inter_case.jnt_app.test_debug.TestDebug#test_002_oa","historyId":"b67c2a712d8c07f6534850991e72d69d","time":{"start":1709630596833,"stop":1709630596835,"duration":2},"status":"broken","statusMessage":"TypeError: post_request() missing 4 required positional arguments: 'url', 'data', 'header', and 'upload_files'","statusTrace":"self = <pytest_demo.test_case.jnt_inter_case.jnt_app.test_debug.TestDebug object at 0x000001DEE0AB6FD0>\ncase = {'Comment': '', 'ID': 'draft_02_c1', 'advice': '', 'case_description': '草稿箱_详情', ...}\n\n    @allure.step('调试_OA')\n    @pytest.mark.debug\n    # @pytest.mark.parametrize()第一个参数为逗号分隔的字符串列表，第二个参数是值列表parametrize()\n    @pytest.mark.parametrize('case', excel.get_excel_data(\"debug\", \"OA\"))\n    def test_002_oa(self, case):\n        self.d_time.write_time_to_json()\n>       self.new.test_case_method(case)\n\ntest_case\\jnt_inter_case\\jnt_app\\test_debug.py:39: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\ncommon\\data_deal.py:243: in test_case_method\n    response = self.reqe.req(request_method, api_url, params, headers,upload_files)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <common.req_reload.ReqReload object at 0x000001DE8713C4C0>\napi_method = ''\napi_url = 'https://v1.2.tunnelprj.com/oa/admin-api/bpm//saveInstance/get?saveId=856'\nparams = ''\nheaders = {'Authorization': 'Bearer 97f9fce2e7664e7599067a7526456826', 'Content-Type': 'application/json'}\nupload_files = ''\n\n    def req(self,api_method,api_url, params, headers,upload_files):\n        '''\n        封装请求方法\n        :param api_method:\n        :param api_url:\n        :param params:\n        :param headers:\n        :return:\n        '''\n        # s = requests.sessions\n        # s.keep_alive = False  # 关闭多余连接\n        if 'get' == api_method.lower():\n            res = self.get_request(api_url, params, headers)\n        elif 'post' == api_method.lower():\n            res = self.post_request(api_url, params, headers,upload_files)\n        elif 'put' == api_method.lower():\n            res = self.put_request(api_url, params,headers)\n        else:\n>           res = self.post_request()\nE           TypeError: post_request() missing 4 required positional arguments: 'url', 'data', 'header', and 'upload_files'\n\ncommon\\req_reload.py:48: TypeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"init_connect","time":{"start":1709630594506,"stop":1709630594506,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"hasContent":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0}],"testStage":{"status":"broken","statusMessage":"TypeError: post_request() missing 4 required positional arguments: 'url', 'data', 'header', and 'upload_files'","statusTrace":"self = <pytest_demo.test_case.jnt_inter_case.jnt_app.test_debug.TestDebug object at 0x000001DEE0AB6FD0>\ncase = {'Comment': '', 'ID': 'draft_02_c1', 'advice': '', 'case_description': '草稿箱_详情', ...}\n\n    @allure.step('调试_OA')\n    @pytest.mark.debug\n    # @pytest.mark.parametrize()第一个参数为逗号分隔的字符串列表，第二个参数是值列表parametrize()\n    @pytest.mark.parametrize('case', excel.get_excel_data(\"debug\", \"OA\"))\n    def test_002_oa(self, case):\n        self.d_time.write_time_to_json()\n>       self.new.test_case_method(case)\n\ntest_case\\jnt_inter_case\\jnt_app\\test_debug.py:39: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\ncommon\\data_deal.py:243: in test_case_method\n    response = self.reqe.req(request_method, api_url, params, headers,upload_files)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <common.req_reload.ReqReload object at 0x000001DE8713C4C0>\napi_method = ''\napi_url = 'https://v1.2.tunnelprj.com/oa/admin-api/bpm//saveInstance/get?saveId=856'\nparams = ''\nheaders = {'Authorization': 'Bearer 97f9fce2e7664e7599067a7526456826', 'Content-Type': 'application/json'}\nupload_files = ''\n\n    def req(self,api_method,api_url, params, headers,upload_files):\n        '''\n        封装请求方法\n        :param api_method:\n        :param api_url:\n        :param params:\n        :param headers:\n        :return:\n        '''\n        # s = requests.sessions\n        # s.keep_alive = False  # 关闭多余连接\n        if 'get' == api_method.lower():\n            res = self.get_request(api_url, params, headers)\n        elif 'post' == api_method.lower():\n            res = self.post_request(api_url, params, headers,upload_files)\n        elif 'put' == api_method.lower():\n            res = self.put_request(api_url, params,headers)\n        else:\n>           res = self.post_request()\nE           TypeError: post_request() missing 4 required positional arguments: 'url', 'data', 'header', and 'upload_files'\n\ncommon\\req_reload.py:48: TypeError","steps":[{"name":"调试_OA","time":{"start":1709630596833,"stop":1709630596834,"duration":1},"status":"broken","statusMessage":"TypeError: post_request() missing 4 required positional arguments: 'url', 'data', 'header', and 'upload_files'\n","statusTrace":"  File \"D:\\Program Files\\Python\\Python39\\lib\\site-packages\\allure_commons\\_allure.py\", line 192, in impl\n    return func(*a, **kw)\n  File \"D:\\Scripts\\python_code\\pytest_demo\\test_case\\jnt_inter_case\\jnt_app\\test_debug.py\", line 39, in test_002_oa\n    self.new.test_case_method(case)\n  File \"D:\\Scripts\\python_code\\pytest_demo\\common\\data_deal.py\", line 243, in test_case_method\n    response = self.reqe.req(request_method, api_url, params, headers,upload_files)\n  File \"D:\\Scripts\\python_code\\pytest_demo\\common\\req_reload.py\", line 48, in req\n    res = self.post_request()\n","steps":[],"attachments":[],"parameters":[{"name":"case","value":"{'ID': 'draft_02_c1', 'case_description': '草稿箱_详情', 'module': 'OA', 'envir': 'jnt_app_dev', 'pre_case': '', 'request_mode': '', 'case_url': '/oa/admin-api/bpm//saveInstance/get?saveId=j::saveId', 'case_header': '{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer j::oa_token\"}', 'case_global_var': '', 'upload_files': '', 'case_preset': '', 'case_params': '', 'case_expect': '操作成功', 'Comment': '', 'advice': ''}"}],"attachmentStep":false,"hasContent":true,"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0}],"attachments":[],"parameters":[],"attachmentStep":false,"hasContent":true,"stepsCount":1,"shouldDisplayMessage":true,"attachmentsCount":0},"afterStages":[{"name":"init_connect::0","time":{"start":1709630596942,"stop":1709630596942,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"hasContent":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0}],"labels":[{"name":"feature","value":"调试demo"},{"name":"tag","value":"debug"},{"name":"parentSuite","value":"test_case.jnt_inter_case.jnt_app"},{"name":"suite","value":"test_debug"},{"name":"subSuite","value":"TestDebug"},{"name":"host","value":"WIN-DVMNCVL70K8"},{"name":"thread","value":"20188-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test_case.jnt_inter_case.jnt_app.test_debug"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"case","value":"{'ID': 'draft_02_c1', 'case_description': '草稿箱_详情', 'module': 'OA', 'envir': 'jnt_app_dev', 'pre_case': '', 'request_mode': '', 'case_url': '/oa/admin-api/bpm//saveInstance/get?saveId=j::saveId', 'case_header': '{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer j::oa_token\"}', 'case_global_var': '', 'upload_files': '', 'case_preset': '', 'case_params': '', 'case_expect': '操作成功', 'Comment': '', 'advice': ''}"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":["debug"]},"source":"1583fb5806ab7f94.json","parameterValues":["{'ID': 'draft_02_c1', 'case_description': '草稿箱_详情', 'module': 'OA', 'envir': 'jnt_app_dev', 'pre_case': '', 'request_mode': '', 'case_url': '/oa/admin-api/bpm//saveInstance/get?saveId=j::saveId', 'case_header': '{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer j::oa_token\"}', 'case_global_var': '', 'upload_files': '', 'case_preset': '', 'case_params': '', 'case_expect': '操作成功', 'Comment': '', 'advice': ''}"]}